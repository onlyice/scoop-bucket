{
    "homepage": "https://github.com/onlyice/scoop-bucket/tree/master/scripts/cosupload",
    "license": "MIT",
    "version": "0.1",
    "depends": [
        "python"
    ],
    "checkver": {
        "url": "https://raw.githubusercontent.com/onlyice/scoop-bucket/master/scripts/cosupload/README.md",
        "re": "v([\\d.]+)"
    },
    "url": [
        "https://raw.githubusercontent.com/onlyice/scoop-bucket/cosupload-v0.1/scripts/cosupload/cosupload-install-context.reg",
        "https://raw.githubusercontent.com/onlyice/scoop-bucket/cosupload-v0.1/scripts/cosupload/cosupload-uninstall-context.reg"
    ],
    "autoupdate": {
        "url": "https://raw.githubusercontent.com/onlyice/scoop-bucket/cosupload-v$version/scripts/cosupload/cosupload.ps1"
    },
    "pre_install": "pip install -U coscmd",
    "post_install": [
        "if(Test-Path(\"$dir\\install.reg\")) {",
        "  $cosuploadpath = \"$dir\\cosupload.ps1\".Replace('\\', '\\\\')",
        "  $content = Get-Content \"$dir\\cosupload-install-context.reg\"",
        "  $content = $content.Replace('$cosuploadpath', $cosuploadpath)",
        "  $content | Set-Content -Path \"$dir\\cosupload-install-context.reg\"",
        "}"    
    ],
    "notes": [
        "Add 'Upload to COS' as a context menu option by running: '$dir\\cosupload-install-context.reg'"
    ]
}
